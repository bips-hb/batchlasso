set.seed(1)

library(microbenchmark)
library(oem)

n <- 100 # no. of observations
r <- 5 # no. of response variables
e <- 10 # no. of exposures

# random response and exposure matrices
response <- matrix(rbinom(r*n, 1, 0.5), n, r)
exposure <- matrix(rbinom(e*n, 1, 0.5), n, e)

res <- batchlasso::batchLASSO(response, exposure)

x <- exposure

microbenchmark(batchlasso::batchLASSO(response, exposure))


# response exposure highest_lambda
# 1         1        1    0.082999765
# 2         2        1    0.047495517
# 3         3        1    0.032736818
# 4         4        1    0.014170987
# 5         5        1    0.029828569
# 6         1        2    0.075626295
# 7         2        2    0.075626295
# 8         3        2    0.018733211
# 9         4        2    0.062786279
# 10        5        2    0.062786279
# 11        1        3    0.017144798
# 12        2        3    0.002430231
# 13        3        3    0.069213844
# 14        4        3    0.036088156
# 15        5        3    0.069213844
# 16        1        4    0.069213844
# 17        2        4    0.000000000
# 18        3        4    0.043468311
# 19        4        4    0.011817244
# 20        5        4    0.043468311
# 21        1        5    0.115232684
# 22        2        5    0.060082417
# 23        3        5    0.017926474
# 24        4        5    0.041412479
# 25        5        5    0.000000000
# 26        1        6    0.002541031
# 27        2        6    0.034381368
# 28        3        6    0.023697743
# 29        4        6    0.016333935
# 30        5        6    0.005870112
# 31        1        7    0.017971295
# 32        2        7    0.095907396
# 33        3        7    0.011286497
# 34        4        7    0.095907396
# 35        5        7    0.045563783
# 36        1        8    0.004885655
# 37        2        8    0.066105248
# 38        3        8    0.066105248
# 39        4        8    0.011286497
# 40        5        8    0.079624005
# 41        1        9    0.012091037
# 42        2        9    0.112761416
# 43        3        9    0.040524352
# 44        4        9    0.064526228
# 45        5        9    0.070817455
# 46        1       10    0.005744222
# 47        2       10    0.093616508
# 48        3       10    0.036924280
# 49        4       10    0.009146426
# 50        5       10    0.036924280
